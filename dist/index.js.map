{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\nconst { useState, useEffect } = React;\nimport axios from \"axios\";\nimport \"./styles.scss\";\n\nexport type StackOverflowBadgeProps = {\n  id?: number;\n  card?: boolean;\n  logo?: boolean;\n};\n\nconst StackOverflowBadge: React.FC<StackOverflowBadgeProps> = (props) => {\n  const [user, setUser] = useState<any>(null);\n\n  useEffect(() => {\n    axios\n      .get(`https://api.stackexchange.com/2.2/users/${props.id}`, {\n        params: {\n          site: \"stackoverflow\",\n        },\n      })\n      .then((res) => {\n        setUser(res.data.items[0]);\n      });\n  }, [props.id]);\n\n  const truncate = (number: number): string => {\n    if (number >= 1e6) {\n      return (number / 1e6).toFixed(1) + \"m\";\n    } else if (number >= 1e3) {\n      return (number / 1e3).toFixed(1) + \"k\";\n    } else {\n      return number.toString();\n    }\n  };\n\n  return user !== null ? (\n    <a\n      className={\"StackOverflowBadge \" + (props.card ? \"card\" : \"\")}\n      href={`https://stackoverflow.com/users/${props.id}?tab=profile`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {props.logo && (\n        <svg\n          className=\"logo\"\n          width=\"26\"\n          height=\"30\"\n          viewBox=\"0 0 26 30\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M21.3233 19.3383H23.9888V30H0V19.3383H2.66542V27.3346H21.3233V19.3383Z\"\n            fill=\"#BBBBBB\"\n          />\n          <path\n            d=\"M5.57022 18.546L18.6611 21.2974L19.2113 18.6805L6.12051 15.9278L5.57022 18.546ZM7.3025 12.2776L19.4292 17.9254L20.5588 15.5001L8.43191 9.85235L7.3025 12.2776ZM10.658 6.32819L20.9388 14.8893L22.6509 12.8333L12.3702 4.27242L10.658 6.32819ZM17.2942 0L15.1473 1.59683L23.131 12.3312L25.2778 10.7346L17.2942 0ZM5.33084 24.6692H18.6579V22.0038H5.33084V24.6692Z\"\n            fill=\"#F58025\"\n          />\n        </svg>\n      )}\n      <img\n        className=\"profileImage\"\n        src={user.profile_image}\n        alt=\"stack overflow profile\"\n      />\n      <div className=\"reputation\">{truncate(user.reputation)}</div>\n      {user.badge_counts.gold > 0 && (\n        <div className=\"medalCount gold\">\n          <div className=\"medal\"></div>\n          <div className=\"count\">{user.badge_counts.gold}</div>\n        </div>\n      )}\n      {user.badge_counts.silver > 0 && (\n        <div className=\"medalCount silver\">\n          <div className=\"medal\"></div>\n          <div className=\"count\">{user.badge_counts.silver}</div>\n        </div>\n      )}\n      {user.badge_counts.bronze > 0 && (\n        <div className=\"medalCount bronze\">\n          <div className=\"medal\"></div>\n          <div className=\"count\">{user.badge_counts.bronze}</div>\n        </div>\n      )}\n    </a>\n  ) : (\n    <div className={\"StackOverflowBadge \" + (props.card ? \"card\" : \"\")}>\n      {props.logo && (\n        <svg\n          className=\"logo\"\n          width=\"26\"\n          height=\"30\"\n          viewBox=\"0 0 26 30\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M21.3233 19.3383H23.9888V30H0V19.3383H2.66542V27.3346H21.3233V19.3383Z\"\n            fill=\"#BBBBBB\"\n          />\n          <path\n            d=\"M5.57022 18.546L18.6611 21.2974L19.2113 18.6805L6.12051 15.9278L5.57022 18.546ZM7.3025 12.2776L19.4292 17.9254L20.5588 15.5001L8.43191 9.85235L7.3025 12.2776ZM10.658 6.32819L20.9388 14.8893L22.6509 12.8333L12.3702 4.27242L10.658 6.32819ZM17.2942 0L15.1473 1.59683L23.131 12.3312L25.2778 10.7346L17.2942 0ZM5.33084 24.6692H18.6579V22.0038H5.33084V24.6692Z\"\n            fill=\"#F58025\"\n          />\n        </svg>\n      )}\n      <div className=\"profileImage placeholder\"></div>\n      <div className=\"medalCount\">\n        <div className=\"medal\"></div>\n      </div>\n      <div className=\"medalCount\">\n        <div className=\"medal\"></div>\n      </div>\n      <div className=\"medalCount\">\n        <div className=\"medal\"></div>\n      </div>\n    </div>\n  );\n};\n\nStackOverflowBadge.defaultProps = {\n  id: 9127393,\n  card: true,\n  logo: true,\n} as StackOverflowBadgeProps;\n\nexport default StackOverflowBadge;\n"],"names":["axios","React.createElement"],"mappings":"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"}